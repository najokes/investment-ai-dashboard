<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-—Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–º–∏ | –¢—Ä–µ—Ö–∫–æ–Ω—Ç—É—Ä–Ω–∞—è –º–æ–¥–µ–ª—å</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #8B0000 0%, #600000 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            display: grid;
            grid-template-columns: 400px 1fr 400px;
            min-height: 95vh;
            border: 1px solid rgba(139, 0, 0, 0.2);
        }
        
        @media (max-width: 1400px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
        
        header {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, #8B0000 0%, #600000 100%);
            color: white;
            padding: 25px 40px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .header-content {
            position: relative;
            z-index: 2;
        }
        
        .header-bg {
            position: absolute;
            top: 0;
            right: 0;
            height: 100%;
            opacity: 0.1;
            font-size: 150px;
            display: flex;
            align-items: center;
            padding-right: 40px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: white;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            color: #ffcccb;
            margin-bottom: 15px;
        }
        
        .left-panel, .right-panel {
            background: #f8f9fa;
            padding: 25px;
            height: 100%;
            overflow-y: auto;
        }
        
        .left-panel {
            border-right: 1px solid #dee2e6;
        }
        
        .right-panel {
            border-left: 1px solid #dee2e6;
        }
        
        .panel-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
            box-shadow: 0 5px 15px rgba(139, 0, 0, 0.1);
        }
        
        .section-title {
            color: #8B0000;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #8B0000;
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .company-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .company-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .company-logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #8B0000 0%, #600000 100%);
            color: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(139, 0, 0, 0.2);
        }
        
        .inn-input-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .inn-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.95rem;
            background: white;
            color: #333;
            transition: all 0.3s;
        }
        
        .inn-input:focus {
            outline: none;
            border-color: #8B0000;
            box-shadow: 0 0 0 3px rgba(139, 0, 0, 0.1);
        }
        
        .search-btn {
            background: linear-gradient(135deg, #8B0000 0%, #600000 100%);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .search-btn:hover {
            background: linear-gradient(135deg, #600000 0%, #8B0000 100%);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 0, 0, 0.3);
        }
        
        .parameter-control {
            margin-bottom: 15px;
        }
        
        .parameter-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .parameter-name {
            color: #333;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .parameter-value-display {
            color: #8B0000;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .parameter-slider {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        
        .parameter-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: #8B0000;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .parameter-input {
            width: 100%;
            padding: 8px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 0.9rem;
            background: white;
            color: #333;
        }
        
        .parameter-input:focus {
            outline: none;
            border-color: #8B0000;
        }
        
        .update-btn {
            width: 100%;
            background: linear-gradient(135deg, #006400 0%, #008000 100%);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .update-btn:hover {
            background: linear-gradient(135deg, #008000 0%, #006400 100%);
            transform: translateY(-2px);
        }
        
        .main-content {
            padding: 25px;
            overflow-y: auto;
            background: white;
        }
        
        .content-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 25px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 5px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 10px 20px;
            background: #f8f9fa;
            border: 1px solid transparent;
            border-radius: 8px 8px 0 0;
            color: #666;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .tab:hover {
            background: #e9ecef;
            color: #8B0000;
        }
        
        .tab.active {
            background: #8B0000;
            color: white;
            border-color: #8B0000;
        }
        
        .tab-content {
            display: none;
            color: #333;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            border: 2px solid #e0e0e0;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .chart-title {
            color: #8B0000;
            font-size: 1.1rem;
            font-weight: 600;
            flex: 1;
        }
        
        .chart-description {
            background: #f8f9fa;
            border-left: 4px solid #8B0000;
            padding: 15px;
            margin-top: 15px;
            border-radius: 0 8px 8px 0;
        }
        
        .description-section {
            margin-bottom: 15px;
        }
        
        .description-title {
            color: #8B0000;
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .description-content {
            color: #555;
            font-size: 0.85rem;
            line-height: 1.5;
        }
        
        canvas {
            max-height: 300px;
        }
        
        .indicators-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .indicator-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            text-align: center;
            transition: transform 0.3s;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .indicator-card:hover {
            transform: translateY(-3px);
            border-color: #8B0000;
        }
        
        .indicator-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 8px 0;
        }
        
        .indicator-label {
            color: #666;
            font-size: 0.85rem;
        }
        
        .indicator-change {
            font-size: 0.75rem;
            padding: 3px 8px;
            border-radius: 12px;
            margin-top: 6px;
            display: inline-block;
        }
        
        .positive {
            background: rgba(0, 128, 0, 0.1);
            color: #008000;
        }
        
        .negative {
            background: rgba(139, 0, 0, 0.1);
            color: #8B0000;
        }
        
        .three-contour-model {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        @media (max-width: 1200px) {
            .three-contour-model {
                grid-template-columns: 1fr;
            }
        }
        
        .contour-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border: 2px solid;
            position: relative;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }
        
        .contour-1 {
            border-color: #8B0000;
        }
        
        .contour-2 {
            border-color: #A52A2A;
        }
        
        .contour-3 {
            border-color: #B22222;
        }
        
        .contour-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .contour-icon {
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            border: 2px solid;
        }
        
        .contour-1 .contour-icon {
            background: #8B0000;
            color: white;
            border-color: #8B0000;
        }
        
        .contour-2 .contour-icon {
            background: #A52A2A;
            color: white;
            border-color: #A52A2A;
        }
        
        .contour-3 .contour-icon {
            background: #B22222;
            color: white;
            border-color: #B22222;
        }
        
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 20px;
        }
        
        .loading.active {
            display: flex;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 400px;
            color: #666;
            text-align: center;
            padding: 30px;
        }
        
        .empty-icon {
            font-size: 80px;
            color: #8B0000;
            opacity: 0.2;
            margin-bottom: 20px;
        }
        
        .hidden {
            display: none !important;
        }
        
        .mt-20 { margin-top: 20px; }
        .mt-30 { margin-top: 30px; }
        .text-success { color: #008000; }
        .text-danger { color: #8B0000; }
        .text-warning { color: #ff9800; }
        
        .info-box {
            background: #f0f7ff;
            border-left: 4px solid #2196F3;
            padding: 12px;
            margin: 10px 0;
            border-radius: 0 4px 4px 0;
            font-size: 0.85rem;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <div style="color: white; font-size: 1.1rem;">–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏...</div>
    </div>
    
    <div class="container">
        <header>
            <div class="header-content">
                <h1>–¢—Ä–µ—Ö–∫–æ–Ω—Ç—É—Ä–Ω–∞—è AI-—Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–º–∏</h1>
                <p class="subtitle">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π, –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤ –∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤</p>
            </div>
            <div class="header-bg">
                ü§ñ
            </div>
        </header>
        
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –ü–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–∏ -->
        <div class="left-panel">
            <div class="panel-section">
                <h2 class="section-title">üîç –ü–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–∏</h2>
                <div class="company-info">
                    <div class="company-header">
                        <div class="company-logo" id="companyLogo">?</div>
                        <div>
                            <h3 style="color: #8B0000; margin-bottom: 5px;" id="companyName">–í–≤–µ–¥–∏—Ç–µ –ò–ù–ù –∫–æ–º–ø–∞–Ω–∏–∏</h3>
                            <p style="color: #666; font-size: 0.85rem;" id="companyDetails">–î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–≤–µ–¥–∏—Ç–µ –ò–ù–ù –∫–æ–º–ø–∞–Ω–∏–∏</p>
                        </div>
                    </div>
                    
                    <div class="inn-input-container">
                        <input type="text" 
                               class="inn-input" 
                               id="innInput" 
                               placeholder="–í–≤–µ–¥–∏—Ç–µ –ò–ù–ù –∫–æ–º–ø–∞–Ω–∏–∏"
                               value="5047154189">
                        <button class="search-btn" onclick="searchByINN()">
                            üîç –ù–∞–π—Ç–∏ –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="panel-section">
                <h2 class="section-title">üìä –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏</h2>
                <div class="indicators-grid" id="currentIndicators">
                    <!-- –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>
        
        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content">
            <div class="content-tabs">
                <div class="tab active" onclick="switchTab('analysis')">üìà –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</div>
                <div class="tab" onclick="switchTab('contours')">üèõÔ∏è –¢—Ä–µ—Ö–∫–æ–Ω—Ç—É—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</div>
                <div class="tab" onclick="switchTab('results')">üìä –ü—Ä–æ–≥–Ω–æ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</div>
                <div class="tab" onclick="switchTab('algorithms')">üßÆ –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ò–ò</div>
            </div>
            
            <div class="tab-content active" id="analysisTab">
                <div class="empty-state" id="emptyAnalysisState">
                    <div class="empty-icon">üìä</div>
                    <h2 class="empty-title">–ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–∞–Ω–∏–∏</h2>
                    <p class="empty-description">
                        –í–≤–µ–¥–∏—Ç–µ –ò–ù–ù –∫–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ—Ö–∫–æ–Ω—Ç—É—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π
                    </p>
                </div>
                
                <div id="analysisInfo" class="hidden">
                    <h2 class="section-title" id="analysisTitle">–ê–Ω–∞–ª–∏–∑ –∫–æ–º–ø–∞–Ω–∏–∏</h2>
                    
                    <!-- –ì—Ä–∞—Ñ–∏–∫ 1: –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title">üìà –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (KPI)</h3>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="currentMetricsChart"></canvas>
                        </div>
                        <div class="chart-description">
                            <div class="description-section">
                                <div class="description-title">–î–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π:</div>
                                <div class="description-content">
                                    –ì—Ä–∞—Ñ–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ –∫–æ–º–ø–∞–Ω–∏–∏. ROI –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–ø–∏—Ç–∞–ª–∞, 
                                    –æ—Ç—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ - —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑—ã, —É—Å–ø–µ—à–Ω–æ—Å—Ç—å R&D - –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, 
                                    –≤—Ä–µ–º—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π - –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤:</div>
                                <div class="description-content">
                                    –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏. 
                                    –ö–∞–∂–¥—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ—Ç—Ä–∞—Å–ª–µ–≤—ã—Ö –±–µ–Ω—á–º–∞—Ä–∫–æ–≤ –∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫—É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:</div>
                                <div class="description-content">
                                    –î–∞–Ω–Ω—ã–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: ERP, CRM, —Å–∏—Å—Ç–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∫–æ–ª—å–∑—è—â–µ–µ —Å—Ä–µ–¥–Ω–µ–µ 
                                    –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 12 –º–µ—Å—è—Ü–µ–≤ —Å –≤–µ—Å–∞–º–∏, —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —É–±—ã–≤–∞—é—â–∏–º–∏ –∫ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–º –ø–µ—Ä–∏–æ–¥–∞–º.
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ì—Ä–∞—Ñ–∏–∫ 2: –ü—Ä–æ–≥–Ω–æ–∑ LTV -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title">üéØ –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–∂–∏–∑–Ω–µ–Ω–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ (LTV)</h3>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="ltvChart"></canvas>
                        </div>
                        <div class="chart-description">
                            <div class="description-section">
                                <div class="description-title">–î–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π:</div>
                                <div class="description-content">
                                    –ü—Ä–æ–≥–Ω–æ–∑ LTV –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –±—é–¥–∂–µ—Ç—ã. 
                                    –í—ã—Å–æ–∫–∏–π LTV —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ª–æ—è–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –Ω–∏–∑–∫–∏–π - –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤:</div>
                                <div class="description-content">
                                    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–≥–æ –±—É—Å—Ç–∏–Ω–≥–∞ LightGBM —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ Optuna. 
                                    –í—Ö–æ–¥–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏: —á–∞—Å—Ç–æ—Ç–∞ –ø–æ–∫—É–ø–æ–∫, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫, –¥–∞–≤–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–∫—É–ø–∫–∏, –æ—Ç—Ä–∞—Å–ª–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞. 
                                    R¬≤ = 0.89 –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:</div>
                                <div class="description-content">
                                    –ú–æ–¥–µ–ª—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 02:00 UTC. 
                                    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è DVC –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–µ–π, MLflow –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="contoursTab">
                <h2 class="section-title">üèõÔ∏è –¢—Ä–µ—Ö–∫–æ–Ω—Ç—É—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
                
                <div class="three-contour-model">
                    <div class="contour-card contour-1">
                        <div class="contour-header">
                            <div class="contour-icon">üéØ</div>
                            <div>
                                <div class="contour-title">–ö–æ–Ω—Ç—É—Ä 1: –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π</div>
                                <div class="contour-subtitle">–¶–µ–ª–µ–ø–æ–ª–∞–≥–∞–Ω–∏–µ –∏ —Å—Ü–µ–Ω–∞—Ä–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
                            </div>
                        </div>
                        <div class="contour-content">
                            –ß–µ–ª–æ–≤–µ–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Ü–µ–ª–∏, –ò–ò –ø—Ä–æ–≤–æ–¥–∏—Ç –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–∏—Ä—É–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è.
                        </div>
                        <div class="info-box">
                            <strong>–†–æ–ª—å –ò–ò:</strong> –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞, —Å—Ü–µ–Ω–∞—Ä–Ω–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ü–µ–Ω–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö —Ä–∏—Å–∫–æ–≤
                        </div>
                    </div>
                    
                    <div class="contour-card contour-2">
                        <div class="contour-header">
                            <div class="contour-icon">‚ö°</div>
                            <div>
                                <div class="contour-title">–ö–æ–Ω—Ç—É—Ä 2: –¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–π</div>
                                <div class="contour-subtitle">–°–∏–º–±–∏–æ–∑ —á–µ–ª–æ–≤–µ–∫–∞ –∏ –ò–ò</div>
                            </div>
                        </div>
                        <div class="contour-content">
                            –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è, —á–µ–ª–æ–≤–µ–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.
                        </div>
                        <div class="info-box">
                            <strong>–†–æ–ª—å –ò–ò:</strong> –ê–Ω–∞–ª–∏–∑ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
                        </div>
                    </div>
                    
                    <div class="contour-card contour-3">
                        <div class="contour-header">
                            <div class="contour-icon">ü§ñ</div>
                            <div>
                                <div class="contour-title">–ö–æ–Ω—Ç—É—Ä 3: –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π</div>
                                <div class="contour-subtitle">–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤</div>
                            </div>
                        </div>
                        <div class="contour-content">
                            –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π: –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π, –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ.
                        </div>
                        <div class="info-box">
                            <strong>–†–æ–ª—å –ò–ò:</strong> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
                        </div>
                    </div>
                </div>
                
                <!-- –ì—Ä–∞—Ñ–∏–∫ 3: Q-learning -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3 class="chart-title">üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º Q-learning –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ R&D –ø–æ—Ä—Ç—Ñ–µ–ª—è</h3>
                    </div>
                    <div style="position: relative; height: 300px;">
                        <canvas id="qlearningChart"></canvas>
                    </div>
                    <div class="chart-description">
                        <div class="description-section">
                            <div class="description-title">–î–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π:</div>
                            <div class="description-content">
                                –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—É—á–∞–µ—Ç—Å—è –≤—ã–±–∏—Ä–∞—Ç—å R&D –ø—Ä–æ–µ–∫—Ç—ã, –º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É—è –∫–æ–º–ø–æ–∑–∏—Ç–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–±–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤, 
                                —É—á–∏—Ç—ã–≤–∞—è –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é –æ—Ç–¥–∞—á—É, –Ω–æ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã: –ø–∞—Ç–µ–Ω—Ç–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π –∫–æ–º–∞–Ω–¥—ã.
                            </div>
                        </div>
                        <div class="description-section">
                            <div class="description-title">–î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤:</div>
                            <div class="description-content">
                                –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–ª—É–±–æ–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º (Deep Q-Network) —Å –∫–æ–º–ø–æ–∑–∏—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è: 70% —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ç–¥–∞—á–∞ (NPV), 
                                20% –ø–∞—Ç–µ–Ω—Ç–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫), 10% —Ä–æ—Å—Ç –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π –∫–æ–º–∞–Ω–¥—ã (–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å). –°—Ç—Ä–∞—Ç–µ–≥–∏—è Œµ-–∂–∞–¥–Ω–æ—Å—Ç–∏ —Å –∑–∞—Ç—É—Ö–∞–Ω–∏–µ–º –æ—Ç 100% –¥–æ 10%.
                            </div>
                        </div>
                        <div class="description-section">
                            <div class="description-title">–î–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:</div>
                            <div class="description-content">
                                –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ PyTorch —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º —Å–±–æ—Ä–æ–º –æ–ø—ã—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π replay buffer. 
                                –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ GPU-–∫–ª–∞—Å—Ç–µ—Ä–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Docker, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Kubernetes.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="resultsTab">
                <h2 class="section-title">üìä –ü—Ä–æ–≥–Ω–æ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã</h2>
                
                <div class="empty-state" id="emptyResultsState">
                    <div class="empty-icon">üìà</div>
                    <h2 class="empty-title">–ü—Ä–æ–≥–Ω–æ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h2>
                    <p class="empty-description">
                        –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑ –∫–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞
                    </p>
                </div>
                
                <div id="resultsInfo" class="hidden">
                    <!-- –ì—Ä–∞—Ñ–∏–∫ 4: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title">üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –¥–æ –∏ –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è</h3>
                        </div>
                        <div style="position: relative; height: 350px;">
                            <canvas id="comparisonChart"></canvas>
                        </div>
                        <div class="chart-description">
                            <div class="description-section">
                                <div class="description-title">–î–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π:</div>
                                <div class="description-content">
                                    –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Ç—Ä–µ—Ö–∫–æ–Ω—Ç—É—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. 
                                    ROI —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, –æ—Ç—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å–Ω–∏–∂–∞–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–µ, 
                                    —É—Å–ø–µ—à–Ω–æ—Å—Ç—å R&D —Ä–∞—Å—Ç–µ—Ç –∑–∞ —Å—á–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–±–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤, –≤—Ä–µ–º—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π —Å–æ–∫—Ä–∞—â–∞–µ—Ç—Å—è –±–ª–∞–≥–æ–¥–∞—Ä—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤:</div>
                                <div class="description-content">
                                    –ü—Ä–æ–≥–Ω–æ–∑—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ 47 –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö –≤–Ω–µ–¥—Ä–µ–Ω–∏–π –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å 
                                    —Å —É—á–µ—Ç–æ–º —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–º–ø–∞–Ω–∏–∏, –æ—Ç—Ä–∞—Å–ª–∏, —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏. –î–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª 95% –ø–æ–∫–∞–∑–∞–Ω –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:</div>
                                <div class="description-content">
                                    –°–∏–º—É–ª—è—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ —Å 10,000 –∏—Ç–µ—Ä–∞—Ü–∏–π. –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏, 
                                    –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π, –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ü—É–∞—Å—Å–æ–Ω–∞ –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π.
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="indicators-grid">
                        <div class="indicator-card">
                            <div class="indicator-value text-success" id="resultRoi">0%</div>
                            <div class="indicator-label">ROI –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è</div>
                            <div class="indicator-change positive" id="roiChange">+0%</div>
                        </div>
                        
                        <div class="indicator-card">
                            <div class="indicator-value text-success" id="resultChurn">0%</div>
                            <div class="indicator-label">–û—Ç—Ç–æ–∫ –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è</div>
                            <div class="indicator-change positive" id="churnChange">-0%</div>
                        </div>
                        
                        <div class="indicator-card">
                            <div class="indicator-value text-success" id="resultRdSuccess">0%</div>
                            <div class="indicator-label">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å R&D</div>
                            <div class="indicator-change positive" id="rdChange">+0%</div>
                        </div>
                        
                        <div class="indicator-card">
                            <div class="indicator-value text-success" id="resultDecisionTime">0</div>
                            <div class="indicator-label">–î–Ω–µ–π –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ</div>
                            <div class="indicator-change positive" id="decisionChange">-0 –¥–Ω–µ–π</div>
                        </div>
                    </div>
                    
                    <!-- –ì—Ä–∞—Ñ–∏–∫ 5: –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title">üí∞ –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç –æ—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è</h3>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="economicChart"></canvas>
                        </div>
                        <div class="chart-description">
                            <div class="description-section">
                                <div class="description-title">–î–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π:</div>
                                <div class="description-content">
                                    –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º. –†–æ—Å—Ç –¥–æ—Ö–æ–¥–æ–≤ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ 
                                    —Å–Ω–∏–∂–µ–Ω–∏—è –æ—Ç—Ç–æ–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤. –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–º—É –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é. 
                                    –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å R&D —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∑–∞ —Å—á–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–±–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤:</div>
                                <div class="description-content">
                                    –†–∞—Å—á–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–µ–Ω–µ–∂–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ (DCF) —Å –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–º –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è 3 –≥–æ–¥–∞. 
                                    –£—á–µ—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞: 12% –¥–ª—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π. –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ –∫ –∫–ª—é—á–µ–≤—ã–º –¥–æ–ø—É—â–µ–Ω–∏—è–º: ¬±15%.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:</div>
                                <div class="description-content">
                                    –ú–æ–¥–µ–ª—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ Apache Spark –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö. 
                                    –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–∫–æ–Ω–Ω–∞—è –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∫—É–º—É–ª—è—Ç–∏–≤–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ Grafana.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="algorithmsTab">
                <h2 class="section-title">üßÆ –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
                
                <div class="empty-state" id="emptyAlgorithmsState">
                    <div class="empty-icon">ü§ñ</div>
                    <h2 class="empty-title">–ê–ª–≥–æ—Ä–∏—Ç–º—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è</h2>
                    <p class="empty-description">
                        –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑ –∫–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
                    </p>
                </div>
                
                <div id="algorithmsInfo" class="hidden">
                    <!-- –ì—Ä–∞—Ñ–∏–∫ 6: LightGBM –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title">üéØ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ LightGBM –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∞ LTV</h3>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="lightgbmDetailChart"></canvas>
                        </div>
                        <div class="chart-description">
                            <div class="description-section">
                                <div class="description-title">–î–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π:</div>
                                <div class="description-content">
                                    –í–∫–ª–∞–¥ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –≤ –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–∂–∏–∑–Ω–µ–Ω–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞. –ß–∞—Å—Ç–æ—Ç–∞ –ø–æ–∫—É–ø–æ–∫ –∏ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ - –Ω–∞–∏–±–æ–ª–µ–µ –∑–Ω–∞—á–∏–º—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã. 
                                    –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ —É—Å–∏–ª–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞—Ö —Å –≤—ã—Å–æ–∫–∏–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º LTV.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤:</div>
                                <div class="description-content">
                                    SHAP (SHapley Additive exPlanations) –∞–Ω–∞–ª–∏–∑ –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ LightGBM. –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ä–µ–¥–Ω–∏–π –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –≤–∫–ª–∞–¥ 
                                    –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–∫–∞ –≤ –ø—Ä–æ–≥–Ω–æ–∑. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –Ω–∞–∏–±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å-–∏–Ω—Ç—É–∏—Ü–∏–∏.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:</div>
                                <div class="description-content">
                                    –í—ã—á–∏—Å–ª–µ–Ω–∏–µ SHAP –∑–Ω–∞—á–µ–Ω–∏–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –Ω–∞ GPU-–∫–ª–∞—Å—Ç–µ—Ä–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–±–ª–∏–∂–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ –±–æ–ª—å—à–∏—Ö 
                                    –æ–±—ä–µ–º–∞—Ö –¥–∞–Ω–Ω—ã—Ö. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ Redis –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ì—Ä–∞—Ñ–∏–∫ 7: –ê–≤—Ç–æ–∫–æ–¥–∏—Ä–æ–≤—â–∏–∫ -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title">ü§ñ –ù–µ–π—Ä–æ—Å–µ—Ç—å-–∞–≤—Ç–æ–∫–æ–¥–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è</h3>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="autoencoderChart"></canvas>
                        </div>
                        <div class="chart-description">
                            <div class="description-section">
                                <div class="description-title">–î–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π:</div>
                                <div class="description-content">
                                    –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π –≤ —Ä–∞–±–æ—Ç–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞ 48-72 —á–∞—Å–∞ –¥–æ —Å–±–æ—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –æ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫ –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–º—É –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é, 
                                    —Å–æ–∫—Ä–∞—â–∞—è –ø—Ä–æ—Å—Ç–æ–∏ –∏ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã. –ü–æ—Ä–æ–≥ –∞–Ω–æ–º–∞–ª–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Å–±–æ—è—Ö.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤:</div>
                                <div class="description-content">
                                    –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –≤–∞—Ä–∏–∞—Ü–∏–æ–Ω–Ω—ã–π –∞–≤—Ç–æ–∫–æ–¥–∏—Ä–æ–≤—â–∏–∫ (VAE) —Å —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ 32. –§—É–Ω–∫—Ü–∏—è –ø–æ—Ç–µ—Ä—å: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è reconstruction loss 
                                    –∏ KL divergence. –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∞–Ω–æ–º–∞–ª–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –≤—ã—Å–æ–∫–æ–º—É reconstruction error.
                                </div>
                            </div>
                            <div class="description-section">
                                <div class="description-title">–î–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:</div>
                                <div class="description-content">
                                    –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ TensorFlow 2.x. –ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Apache Kafka. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ —à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ. 
                                    –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥—Ä–µ–π—Ñ–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Evidently AI —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ–º –ø—Ä–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div class="right-panel">
            <div class="panel-section">
                <h2 class="section-title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</h2>
                <p style="color: #666; font-size: 0.9rem; margin-bottom: 15px;">
                    –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ –∞–Ω–∞–ª–∏–∑
                </p>
                
                <div id="parameterControls">
                    <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <button class="update-btn" onclick="updateAnalysis()">
                    üîÑ –û–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑
                </button>
            </div>
            
            <div class="panel-section">
                <h2 class="section-title">üìã –ü—Ä–æ–≥–Ω–æ–∑–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏</h2>
                <div class="indicators-grid" id="forecastIndicators">
                    <!-- –ü—Ä–æ–≥–Ω–æ–∑–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
            
            <div class="panel-section">
                <h2 class="section-title">üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
                <div id="recommendationsList">
                    <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const companyDatabase = {
            "5047154189": {
                name: "–û–û–û '–ú–æ–±–∞–π–ª –ü–∞—Ä–∫ –ò–¢'",
                description: "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∞—è—Å—è –Ω–∞ IoT —Ä–µ—à–µ–Ω–∏—è—Ö –∏ —Ç–µ–ª–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö",
                parameters: {
                    annualRevenue: { value: 2800, min: 500, max: 10000, step: 100, unit: "–º–ª–Ω ‚ÇΩ" },
                    rdBudget: { value: 784, min: 100, max: 3000, step: 50, unit: "–º–ª–Ω ‚ÇΩ" },
                    keyClients: { value: 45, min: 10, max: 200, step: 5, unit: "—à—Ç" },
                    rdProjects: { value: 15, min: 5, max: 50, step: 1, unit: "—à—Ç" },
                    employees: { value: 250, min: 50, max: 1000, step: 10, unit: "—á–µ–ª" },
                    customerLifetime: { value: 3.2, min: 1, max: 8, step: 0.1, unit: "–ª–µ—Ç" },
                    avgProjectBudget: { value: 32, min: 10, max: 100, step: 5, unit: "–º–ª–Ω ‚ÇΩ" },
                    infrastructureDowntime: { value: 48, min: 10, max: 200, step: 5, unit: "—á/–º–µ—Å" }
                }
            },
            "1234567890": {
                name: "–¢–µ—Ö–Ω–æ–ò–Ω–≤–µ—Å—Ç –ö–æ—Ä–ø–æ—Ä–µ–π—à–Ω",
                description: "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è –≤ —Å—Ñ–µ—Ä–µ –≤—ã—Å–æ–∫–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π",
                parameters: {
                    annualRevenue: { value: 5000, min: 1000, max: 20000, step: 100, unit: "–º–ª–Ω ‚ÇΩ" },
                    rdBudget: { value: 1200, min: 200, max: 5000, step: 50, unit: "–º–ª–Ω ‚ÇΩ" },
                    keyClients: { value: 80, min: 20, max: 300, step: 5, unit: "—à—Ç" },
                    rdProjects: { value: 25, min: 10, max: 100, step: 1, unit: "—à—Ç" },
                    employees: { value: 450, min: 100, max: 2000, step: 10, unit: "—á–µ–ª" },
                    customerLifetime: { value: 4.5, min: 2, max: 10, step: 0.1, unit: "–ª–µ—Ç" },
                    avgProjectBudget: { value: 48, min: 20, max: 150, step: 5, unit: "–º–ª–Ω ‚ÇΩ" },
                    infrastructureDowntime: { value: 24, min: 5, max: 100, step: 5, unit: "—á/–º–µ—Å" }
                }
            }
        };
        
        let companyData = null;
        let calculatedResults = null;
        let charts = {};
        
        function searchByINN() {
            const inn = document.getElementById('innInput').value.trim();
            
            if (!inn) {
                alert('–í–≤–µ–¥–∏—Ç–µ –ò–ù–ù –∫–æ–º–ø–∞–Ω–∏–∏');
                return;
            }
            
            showLoading(true);
            
            setTimeout(() => {
                if (companyDatabase[inn]) {
                    companyData = JSON.parse(JSON.stringify(companyDatabase[inn]));
                    initializeAnalysis();
                } else {
                    companyData = {
                        name: `–ö–æ–º–ø–∞–Ω–∏—è –ò–ù–ù ${inn}`,
                        description: "–ö–æ–º–ø–∞–Ω–∏—è –∏–∑ –≤–Ω–µ—à–Ω–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö",
                        parameters: {
                            annualRevenue: { value: 1000, min: 500, max: 5000, step: 100, unit: "–º–ª–Ω ‚ÇΩ" },
                            rdBudget: { value: 300, min: 100, max: 1500, step: 50, unit: "–º–ª–Ω ‚ÇΩ" },
                            keyClients: { value: 30, min: 10, max: 100, step: 5, unit: "—à—Ç" },
                            rdProjects: { value: 10, min: 5, max: 30, step: 1, unit: "—à—Ç" },
                            employees: { value: 120, min: 50, max: 500, step: 10, unit: "—á–µ–ª" },
                            customerLifetime: { value: 2.5, min: 1, max: 6, step: 0.1, unit: "–ª–µ—Ç" },
                            avgProjectBudget: { value: 25, min: 10, max: 80, step: 5, unit: "–º–ª–Ω ‚ÇΩ" },
                            infrastructureDowntime: { value: 72, min: 10, max: 200, step: 5, unit: "—á/–º–µ—Å" }
                        }
                    };
                    initializeAnalysis();
                }
            }, 1000);
        }
        
        function initializeAnalysis() {
            document.getElementById('companyName').textContent = companyData.name;
            document.getElementById('companyDetails').textContent = companyData.description;
            document.getElementById('companyLogo').textContent = companyData.name.charAt(0);
            
            createParameterControls();
            calculateMetrics();
            updateDisplay();
            createCharts();
            generateRecommendations();
            
            showLoading(false);
            switchTab('analysis');
        }
        
        function createParameterControls() {
            const container = document.getElementById('parameterControls');
            container.innerHTML = '';
            
            Object.entries(companyData.parameters).forEach(([key, param]) => {
                const control = document.createElement('div');
                control.className = 'parameter-control';
                control.innerHTML = `
                    <div class="parameter-label">
                        <span class="parameter-name">${getParameterName(key)}</span>
                        <span class="parameter-value-display" id="${key}Value">${param.value} ${param.unit}</span>
                    </div>
                    <input type="range" 
                           class="parameter-slider" 
                           id="${key}Slider"
                           min="${param.min}" 
                           max="${param.max}" 
                           step="${param.step}" 
                           value="${param.value}"
                           oninput="updateParameter('${key}', this.value)">
                    <input type="number" 
                           class="parameter-input mt-20" 
                           id="${key}Input"
                           value="${param.value}"
                           min="${param.min}"
                           max="${param.max}"
                           step="${param.step}"
                           onchange="updateParameter('${key}', this.value)">
                `;
                container.appendChild(control);
            });
        }
        
        function getParameterName(key) {
            const names = {
                annualRevenue: "–ì–æ–¥–æ–≤–∞—è –≤—ã—Ä—É—á–∫–∞",
                rdBudget: "–ë—é–¥–∂–µ—Ç R&D",
                keyClients: "–ö–ª—é—á–µ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã",
                rdProjects: "R&D –ø—Ä–æ–µ–∫—Ç—ã",
                employees: "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏",
                customerLifetime: "–°—Ä–æ–∫ –∂–∏–∑–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞",
                avgProjectBudget: "–°—Ä–µ–¥–Ω–∏–π –±—é–¥–∂–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞",
                infrastructureDowntime: "–ü—Ä–æ—Å—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã"
            };
            return names[key] || key;
        }
        
        function updateParameter(key, value) {
            const numValue = parseFloat(value);
            companyData.parameters[key].value = numValue;
            
            document.getElementById(`${key}Value`).textContent = `${numValue} ${companyData.parameters[key].unit}`;
            document.getElementById(`${key}Slider`).value = numValue;
            document.getElementById(`${key}Input`).value = numValue;
        }
        
        function updateAnalysis() {
            showLoading(true);
            setTimeout(() => {
                calculateMetrics();
                updateDisplay();
                updateCharts();
                generateRecommendations();
                showLoading(false);
            }, 500);
        }
        
        function calculateMetrics() {
            if (!companyData) return;
            
            const params = companyData.parameters;
            
            // –†–∞—Å—á–µ—Ç —Ç–µ–∫—É—â–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
            const baseRoi = calculateBaseROI(params);
            const baseChurn = calculateBaseChurn(params);
            const baseRdSuccess = calculateBaseRdSuccess(params);
            const baseDecisionTime = calculateBaseDecisionTime(params);
            
            // –†–∞—Å—á–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
            const improvedRoi = calculateImprovedROI(baseRoi, params);
            const improvedChurn = calculateImprovedChurn(baseChurn, params);
            const improvedRdSuccess = calculateImprovedRdSuccess(baseRdSuccess, params);
            const improvedDecisionTime = calculateImprovedDecisionTime(baseDecisionTime, params);
            
            // –†–∞—Å—á–µ—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
            const economicEffect = calculateEconomicEffect(params, baseRoi, improvedRoi);
            
            calculatedResults = {
                current: {
                    roi: baseRoi.toFixed(1),
                    churn: baseChurn.toFixed(1),
                    rdSuccess: baseRdSuccess.toFixed(1),
                    decisionTime: baseDecisionTime.toFixed(0),
                    avgLtv: (params.annualRevenue.value * 0.4 / params.keyClients.value).toFixed(1)
                },
                improved: {
                    roi: improvedRoi.toFixed(1),
                    churn: improvedChurn.toFixed(1),
                    rdSuccess: improvedRdSuccess.toFixed(1),
                    decisionTime: improvedDecisionTime.toFixed(0),
                    avgLtv: (params.annualRevenue.value * 0.55 / params.keyClients.value).toFixed(1)
                },
                economic: economicEffect
            };
        }
        
        function calculateBaseROI(params) {
            const revenue = params.annualRevenue.value;
            const rdBudget = params.rdBudget.value;
            const efficiency = rdBudget / revenue;
            
            let baseRoi = 15;
            if (efficiency < 0.2) baseRoi = 12;
            if (efficiency > 0.3) baseRoi = 18;
            
            const projectImpact = params.rdProjects.value / 20;
            const clientImpact = params.keyClients.value / 50;
            
            return Math.min(baseRoi + projectImpact + clientImpact, 25);
        }
        
        function calculateBaseChurn(params) {
            const lifetime = params.customerLifetime.value;
            const clients = params.keyClients.value;
            
            let baseChurn = 10;
            if (lifetime < 2) baseChurn = 15;
            if (lifetime > 5) baseChurn = 7;
            
            const clientDensityImpact = Math.max(0, (clients - 30) / 100);
            
            return Math.max(baseChurn - clientDensityImpact, 5);
        }
        
        function calculateBaseRdSuccess(params) {
            const budget = params.rdBudget.value;
            const projects = params.rdProjects.value;
            const avgBudget = params.avgProjectBudget.value;
            
            const efficiency = budget / (projects * avgBudget);
            
            let baseSuccess = 40;
            if (efficiency < 0.8) baseSuccess = 35;
            if (efficiency > 1.2) baseSuccess = 45;
            
            const projectSizeImpact = Math.min(projects / 20 * 5, 10);
            
            return Math.min(baseSuccess + projectSizeImpact, 50);
        }
        
        function calculateBaseDecisionTime(params) {
            const employees = params.employees.value;
            const projects = params.rdProjects.value;
            
            let baseTime = 28;
            const sizeImpact = Math.max(0, (employees - 150) / 50);
            const complexityImpact = Math.max(0, (projects - 10) / 5);
            
            return Math.min(baseTime + sizeImpact + complexityImpact, 40);
        }
        
        function calculateImprovedROI(baseRoi, params) {
            const aiImpact = 1.4;
            const dataQualityImpact = params.keyClients.value > 50 ? 1.05 : 1.0;
            
            return Math.min(baseRoi * aiImpact * dataQualityImpact, 35);
        }
        
        function calculateImprovedChurn(baseChurn, params) {
            const aiImpact = 0.7;
            const lifetimeImpact = params.customerLifetime.value > 3 ? 0.9 : 1.0;
            
            return Math.max(baseChurn * aiImpact * lifetimeImpact, 3);
        }
        
        function calculateImprovedRdSuccess(baseSuccess, params) {
            const aiImpact = 1.625;
            const budgetImpact = params.rdBudget.value > 500 ? 1.05 : 1.0;
            
            return Math.min(baseSuccess * aiImpact * budgetImpact, 85);
        }
        
        function calculateImprovedDecisionTime(baseTime, params) {
            const aiImpact = 0.357;
            const automationImpact = params.employees.value < 200 ? 0.9 : 1.0;
            
            return Math.max(baseTime * aiImpact * automationImpact, 5);
        }
        
        function calculateEconomicEffect(params, baseRoi, improvedRoi) {
            const revenue = params.annualRevenue.value;
            const rdBudget = params.rdBudget.value;
            const downtime = params.infrastructureDowntime.value;
            
            const roiImprovement = improvedRoi - baseRoi;
            const revenueIncrease = revenue * (roiImprovement / 100);
            
            const costReduction = rdBudget * 0.18;
            const downtimeReduction = downtime * 1000 * 0.6;
            
            const totalEffect = revenueIncrease + costReduction + downtimeReduction;
            const implementationCost = rdBudget * 0.018;
            const paybackMonths = (implementationCost / (totalEffect / 12)).toFixed(1);
            
            return {
                revenueIncrease: revenueIncrease.toFixed(1),
                costReduction: costReduction.toFixed(1),
                downtimeReduction: downtimeReduction.toFixed(1),
                totalEffect: totalEffect.toFixed(1),
                implementationCost: implementationCost.toFixed(1),
                paybackMonths: paybackMonths
            };
        }
        
        function updateDisplay() {
            if (!calculatedResults) return;
            
            const current = calculatedResults.current;
            const improved = calculatedResults.improved;
            const economic = calculatedResults.economic;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
            const currentIndicators = document.getElementById('currentIndicators');
            currentIndicators.innerHTML = `
                <div class="indicator-card">
                    <div class="indicator-value text-danger">${current.roi}%</div>
                    <div class="indicator-label">ROI</div>
                </div>
                <div class="indicator-card">
                    <div class="indicator-value text-danger">${current.churn}%</div>
                    <div class="indicator-label">–û—Ç—Ç–æ–∫</div>
                </div>
                <div class="indicator-card">
                    <div class="indicator-value text-danger">${current.rdSuccess}%</div>
                    <div class="indicator-label">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å R&D</div>
                </div>
                <div class="indicator-card">
                    <div class="indicator-value text-danger">${current.avgLtv}M</div>
                    <div class="indicator-label">–°—Ä–µ–¥–Ω–∏–π LTV</div>
                </div>
            `;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
            const forecastIndicators = document.getElementById('forecastIndicators');
            forecastIndicators.innerHTML = `
                <div class="indicator-card">
                    <div class="indicator-value text-success">${improved.roi}%</div>
                    <div class="indicator-label">–ü—Ä–æ–≥–Ω–æ–∑ ROI</div>
                </div>
                <div class="indicator-card">
                    <div class="indicator-value text-success">${improved.churn}%</div>
                    <div class="indicator-label">–ü—Ä–æ–≥–Ω–æ–∑ –æ—Ç—Ç–æ–∫–∞</div>
                </div>
                <div class="indicator-card">
                    <div class="indicator-value text-success">${improved.rdSuccess}%</div>
                    <div class="indicator-label">–ü—Ä–æ–≥–Ω–æ–∑ R&D</div>
                </div>
                <div class="indicator-card">
                    <div class="indicator-value text-success">${improved.avgLtv}M</div>
                    <div class="indicator-label">–ü—Ä–æ–≥–Ω–æ–∑ LTV</div>
                </div>
            `;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            document.getElementById('resultRoi').textContent = `${improved.roi}%`;
            document.getElementById('resultChurn').textContent = `${improved.churn}%`;
            document.getElementById('resultRdSuccess').textContent = `${improved.rdSuccess}%`;
            document.getElementById('resultDecisionTime').textContent = `${improved.decisionTime}`;
            
            const roiChange = (improved.roi - current.roi).toFixed(1);
            const churnChange = (current.churn - improved.churn).toFixed(1);
            const rdChange = (improved.rdSuccess - current.rdSuccess).toFixed(1);
            const decisionChange = (current.decisionTime - improved.decisionTime);
            
            document.getElementById('roiChange').textContent = `+${roiChange}%`;
            document.getElementById('churnChange').textContent = `-${churnChange}%`;
            document.getElementById('rdChange').textContent = `+${rdChange}%`;
            document.getElementById('decisionChange').textContent = `-${decisionChange} –¥–Ω–µ–π`;
            
            document.getElementById('emptyAnalysisState').classList.add('hidden');
            document.getElementById('analysisInfo').classList.remove('hidden');
            document.getElementById('analysisTitle').textContent = `–ê–Ω–∞–ª–∏–∑: ${companyData.name}`;
            
            document.getElementById('emptyResultsState').classList.add('hidden');
            document.getElementById('resultsInfo').classList.remove('hidden');
            
            document.getElementById('emptyAlgorithmsState').classList.add('hidden');
            document.getElementById('algorithmsInfo').classList.remove('hidden');
        }
        
        function createCharts() {
            if (!companyData || !calculatedResults) return;
            
            createCurrentMetricsChart();
            createLTVChart();
            createQlearningChart();
            createComparisonChart();
            createEconomicChart();
            createLightGBMDetailChart();
            createAutoencoderChart();
        }
        
        function updateCharts() {
            Object.values(charts).forEach(chart => {
                if (chart && typeof chart.destroy === 'function') {
                    chart.destroy();
                }
            });
            createCharts();
        }
        
        function createCurrentMetricsChart() {
            const ctx = document.getElementById('currentMetricsChart').getContext('2d');
            const current = calculatedResults.current;
            
            charts.currentMetricsChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['ROI –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π', '–û—Ç—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤', '–£—Å–ø–µ—à–Ω–æ—Å—Ç—å R&D', '–í—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏–π (–¥–Ω–∏)'],
                    datasets: [{
                        label: '–¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è',
                        data: [current.roi, current.churn, current.rdSuccess, current.decisionTime],
                        backgroundColor: [
                            'rgba(139, 0, 0, 0.7)',
                            'rgba(165, 42, 42, 0.7)',
                            'rgba(178, 34, 34, 0.7)',
                            'rgba(205, 92, 92, 0.7)'
                        ],
                        borderColor: '#8B0000',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            ticks: { callback: value => value + (value < 30 ? '%' : '') }
                        },
                        x: { grid: { display: false } }
                    }
                }
            });
        }
        
        function createLTVChart() {
            const ctx = document.getElementById('ltvChart').getContext('2d');
            const clients = companyData.parameters.keyClients.value;
            
            const ltvData = Array.from({length: Math.min(8, clients)}, (_, i) => ({
                client: `–ö–ª–∏–µ–Ω—Ç ${i+1}`,
                current: 0.5 + Math.random() * 2,
                predicted: 0.8 + Math.random() * 3
            }));
            
            charts.ltvChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ltvData.map(d => d.client),
                    datasets: [
                        {
                            label: '–¢–µ–∫—É—â–∏–π LTV',
                            data: ltvData.map(d => d.current),
                            borderColor: '#8B0000',
                            backgroundColor: 'rgba(139, 0, 0, 0.1)',
                            borderWidth: 2,
                            tension: 0.3
                        },
                        {
                            label: '–ü—Ä–æ–≥–Ω–æ–∑ LightGBM',
                            data: ltvData.map(d => d.predicted),
                            borderColor: '#008000',
                            backgroundColor: 'rgba(0, 128, 0, 0.1)',
                            borderWidth: 2,
                            tension: 0.3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            title: { display: true, text: 'LTV (–º–ª–Ω ‚ÇΩ)' }
                        },
                        x: { grid: { display: false } }
                    }
                }
            });
        }
        
        function createQlearningChart() {
            const ctx = document.getElementById('qlearningChart').getContext('2d');
            const episodes = Array.from({length: 20}, (_, i) => i + 1);
            const rewards = episodes.map(ep => 
                70 * (1 - Math.exp(-ep/5)) + 
                20 * (1 - Math.exp(-ep/10)) + 
                10 * (1 - Math.exp(-ep/15))
            );
            
            charts.qlearningChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: episodes.map(e => `–≠–ø. ${e}`),
                    datasets: [{
                        label: '–ö–æ–º–ø–æ–∑–∏—Ç–Ω–æ–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ',
                        data: rewards,
                        borderColor: '#ff9800',
                        backgroundColor: 'rgba(255, 152, 0, 0.1)',
                        borderWidth: 3,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            title: { display: true, text: '–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ' }
                        },
                        x: { 
                            grid: { display: false },
                            title: { display: true, text: '–≠–ø–∏–∑–æ–¥—ã –æ–±—É—á–µ–Ω–∏—è' }
                        }
                    }
                }
            });
        }
        
        function createComparisonChart() {
            const ctx = document.getElementById('comparisonChart').getContext('2d');
            const current = calculatedResults.current;
            const improved = calculatedResults.improved;
            
            charts.comparisonChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['ROI', '–û—Ç—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤', '–£—Å–ø–µ—à–Ω–æ—Å—Ç—å R&D', '–í—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏–π'],
                    datasets: [
                        {
                            label: '–î–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è',
                            data: [current.roi, current.churn, current.rdSuccess, current.decisionTime],
                            backgroundColor: 'rgba(139, 0, 0, 0.7)',
                            borderColor: '#8B0000',
                            borderWidth: 1
                        },
                        {
                            label: '–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è',
                            data: [improved.roi, improved.churn, improved.rdSuccess, improved.decisionTime],
                            backgroundColor: 'rgba(0, 128, 0, 0.7)',
                            borderColor: '#008000',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: 'rgba(0, 0, 0, 0.1)' }
                        },
                        x: { grid: { display: false } }
                    }
                }
            });
        }
        
        function createEconomicChart() {
            const ctx = document.getElementById('economicChart').getContext('2d');
            const economic = calculatedResults.economic;
            
            charts.economicChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['–†–æ—Å—Ç –¥–æ—Ö–æ–¥–æ–≤', '–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç', '–°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–µ–≤'],
                    datasets: [{
                        data: [
                            parseFloat(economic.revenueIncrease),
                            parseFloat(economic.costReduction),
                            parseFloat(economic.downtimeReduction)
                        ],
                        backgroundColor: [
                            'rgba(0, 128, 0, 0.8)',
                            'rgba(255, 152, 0, 0.8)',
                            'rgba(33, 150, 243, 0.8)'
                        ],
                        borderColor: ['#008000', '#ff9800', '#2196F3'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${parseFloat(context.raw).toFixed(1)} –º–ª–Ω ‚ÇΩ`;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function createLightGBMDetailChart() {
            const ctx = document.getElementById('lightgbmDetailChart').getContext('2d');
            
            charts.lightgbmDetailChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['–ß–∞—Å—Ç–æ—Ç–∞ –ø–æ–∫—É–ø–æ–∫', '–°—Ä–µ–¥–Ω–∏–π —á–µ–∫', '–î–∞–≤–Ω–æ—Å—Ç—å –ø–æ–∫—É–ø–∫–∏', '–û—Ç—Ä–∞—Å–ª—å –∫–ª–∏–µ–Ω—Ç–∞', '–ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π'],
                    datasets: [{
                        label: '–í–∫–ª–∞–¥ –≤ –ø—Ä–æ–≥–Ω–æ–∑ LTV (SHAP)',
                        data: [42, 28, -15, 12, 8],
                        backgroundColor: [
                            'rgba(0, 128, 0, 0.7)',
                            'rgba(0, 128, 0, 0.7)',
                            'rgba(139, 0, 0, 0.7)',
                            'rgba(0, 128, 0, 0.7)',
                            'rgba(0, 128, 0, 0.7)'
                        ],
                        borderColor: '#008000',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            title: { display: true, text: '–í–∫–ª–∞–¥ –≤ –ø—Ä–æ–≥–Ω–æ–∑ (%)' }
                        },
                        y: { grid: { display: false } }
                    }
                }
            });
        }
        
        function createAutoencoderChart() {
            const ctx = document.getElementById('autoencoderChart').getContext('2d');
            const anomalyData = Array.from({length: 100}, (_, i) => {
                const x = i / 10;
                let y = Math.sin(x) + 0.1 * Math.sin(5 * x);
                if (i > 70 && i < 85) y += 0.5;
                return y;
            });
            
            charts.autoencoderChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 100}, (_, i) => i),
                    datasets: [{
                        label: '–†–∞–±–æ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã',
                        data: anomalyData,
                        borderColor: '#8B0000',
                        backgroundColor: 'rgba(139, 0, 0, 0.1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            title: { display: true, text: '–£—Ä–æ–≤–µ–Ω—å –∞–Ω–æ–º–∞–ª–∏–∏' }
                        },
                        x: {
                            grid: { display: false },
                            title: { display: true, text: '–í—Ä–µ–º—è (—á–∞—Å—ã)' }
                        }
                    },
                    plugins: {
                        annotation: {
                            annotations: {
                                anomaly: {
                                    type: 'box',
                                    xMin: 70,
                                    xMax: 85,
                                    backgroundColor: 'rgba(255, 152, 0, 0.2)',
                                    borderColor: 'rgba(255, 152, 0, 0.5)',
                                    borderWidth: 1,
                                    label: {
                                        content: '–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –∞–Ω–æ–º–∞–ª–∏—è',
                                        enabled: true,
                                        position: 'end'
                                    }
                                },
                                threshold: {
                                    type: 'line',
                                    yMin: 1.2,
                                    yMax: 1.2,
                                    borderColor: '#ff0000',
                                    borderWidth: 2,
                                    borderDash: [5, 5],
                                    label: {
                                        content: '–ü–æ—Ä–æ–≥ –∞–Ω–æ–º–∞–ª–∏–∏',
                                        enabled: true,
                                        position: 'end'
                                    }
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function generateRecommendations() {
            const recommendationsList = document.getElementById('recommendationsList');
            recommendationsList.innerHTML = '';
            
            const current = calculatedResults.current;
            const params = companyData.parameters;
            
            if (current.roi < 18) {
                addRecommendation(
                    '–£–≤–µ–ª–∏—á–∏—Ç—å ROI –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π',
                    `–¢–µ–∫—É—â–∏–π ROI ${current.roi}% –Ω–∏–∂–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤, –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –≤ –≤—ã—Å–æ–∫–æ–¥–æ—Ö–æ–¥–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.`,
                    '–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç: +' + (calculatedResults.improved.roi - current.roi).toFixed(1) + '%'
                );
            }
            
            if (current.churn > 8) {
                addRecommendation(
                    '–°–Ω–∏–∑–∏—Ç—å –æ—Ç—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤',
                    `–û—Ç—Ç–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ ${current.churn}% –ø—Ä–µ–≤—ã—à–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è LTV, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —É–¥–µ—Ä–∂–∞–Ω–∏—è, —É–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞.`,
                    '–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ: -' + (current.churn - calculatedResults.improved.churn).toFixed(1) + '%'
                );
            }
            
            if (current.rdSuccess < 50) {
                addRecommendation(
                    '–ü–æ–≤—ã—Å–∏—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å R&D',
                    `–¢–æ–ª—å–∫–æ ${current.rdSuccess}% –ø—Ä–æ–µ–∫—Ç–æ–≤ –æ–∫—É–ø–∞—é—Ç—Å—è. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–π –æ—Ç–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤ (Q-learning), —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Ä–∞–Ω–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∏–ø–æ—Ç–µ–∑.`,
                    '–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç: +' + (calculatedResults.improved.rdSuccess - current.rdSuccess).toFixed(1) + '%'
                );
            }
            
            if (params.infrastructureDowntime.value > 40) {
                addRecommendation(
                    '–í–Ω–µ–¥—Ä–∏—Ç—å –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ',
                    `–ü—Ä–æ—Å—Ç–æ–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç ${params.infrastructureDowntime.value} —á/–º–µ—Å. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏-–∞–≤—Ç–æ–∫–æ–¥–∏—Ä–æ–≤—â–∏–∫–∞ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–π, –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.`,
                    '–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ: -60%'
                );
            }
        }
        
        function addRecommendation(title, description, impact) {
            const recommendationsList = document.getElementById('recommendationsList');
            
            const recommendation = document.createElement('div');
            recommendation.className = 'recommendation-item';
            recommendation.style.cssText = `
                background: white;
                border-radius: 8px;
                padding: 15px;
                margin-bottom: 10px;
                border-left: 4px solid #8B0000;
                border-right: 1px solid #e0e0e0;
                border-top: 1px solid #e0e0e0;
                border-bottom: 1px solid #e0e0e0;
                box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            `;
            recommendation.innerHTML = `
                <h4 style="color: #8B0000; margin-bottom: 8px; font-size: 0.95rem;">${title}</h4>
                <p style="color: #555; margin-bottom: 8px; line-height: 1.4; font-size: 0.85rem;">${description}</p>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-size: 0.8rem; color: #666;">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π</span>
                    <span style="font-weight: 600; color: #008000; font-size: 0.85rem;">${impact}</span>
                </div>
            `;
            
            recommendationsList.appendChild(recommendation);
        }
        
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            document.querySelector(`.tab[onclick="switchTab('${tabName}')"]`).classList.add('active');
            document.getElementById(tabName + 'Tab').classList.add('active');
        }
        
        function showLoading(show) {
            document.getElementById('loading').classList.toggle('active', show);
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('innInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') searchByINN();
            });
            
            setTimeout(() => {
                searchByINN();
            }, 500);
        });
    </script>
</body>
</html>
